<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>12-Week Strength & Conditioning</title>

<!-- Bootstrap -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

<!-- Custom CSS -->
<link rel="stylesheet" href="styles.css?v=3">
</head>

<body>
<div class="app-container">

  <!-- TITLE -->
  <h2 class="title">12-Week Strength & Conditioning</h2>
  <p class="subtitle">Personalized • Tracked • Progressive</p>

  <!-- USER SELECTOR -->
  <div class="text-center mb-3">
    <select class="form-select w-50 mx-auto" id="userSelect" aria-label="Select user">
      <option>Zach</option>
      <option>Dave</option>
      <option>Holly</option>
    </select>
  </div>

  <!-- TODAY CARD -->
  <div class="card p-3" id="todayCard">
    <h5 class="section-title" id="todayTitle"></h5>
    <span class="badge-phase mb-2">Phase Active</span>
    <div id="todayLifts"></div>
    <div class="alert mt-2">
      StairClimber — 30 min steady
      <input type="checkbox" class="form-check-input ms-2" id="stairCheckbox" aria-label="StairClimber complete">
    </div>
  </div>

  <!-- PHASE TABS -->
  <ul class="nav nav-pills phase-tabs mb-3 justify-content-center" role="tablist" id="phaseTabs"></ul>
  <div class="tab-content" id="phaseContent"></div>

  <footer>
    Built for Zach • Dave • Holly
  </footer>

</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script>
/* ==========================
   PROGRAM DATA
========================== */
const program = {
  "Phase 1": {
    name: "Weeks 1–3",
    days: {
      "Day 1 — Lower (Volume)": [
        { name: "Back Squat", sets: "4×8" },
        { name: "RDL", sets: "4×10" },
        { name: "Walking Lunges", sets: "3×12" }
      ],
      "Day 2 — Upper Push": [
        { name: "Bench Press", sets: "4×8" },
        { name: "Incline DB Press", sets: "3×10" },
        { name: "Triceps Superset", sets: "3×12" }
      ]
    }
  },
  "Phase 2": {
    name: "Weeks 4–6",
    days: {
      "Day 1 — Lower Intensity": [
        { name: "Back Squat", sets: "5×5" },
        { name: "RDL", sets: "4×8" }
      ]
    }
  },
  "Phase 3": {
    name: "Weeks 7–9",
    days: {
      "Day 1 — Strength Peak": [
        { name: "Back Squat", sets: "3–5 reps" },
        { name: "Bench Press", sets: "3–5 reps" }
      ]
    }
  },
  "Phase 4": {
    name: "Weeks 10–12",
    days: {
      "Day 1 — Final Sculpt": [
        { name: "Circuit A", sets: "3×15" },
        { name: "Metabolic Finisher", sets: "AMRAP 10 min" }
      ]
    }
  }
};

/* ==========================
   UTILITY
========================== */

// Format today’s date
const today = new Date();
const formattedDate = `${String(today.getMonth()+1).padStart(2,'0')}/${String(today.getDate()).padStart(2,'0')}/${String(today.getFullYear()).slice(-2)}`;
document.getElementById('todayTitle').innerText = `Today’s Workout — ${formattedDate}`;

// Persist user selection
const userSelect = document.getElementById('userSelect');
userSelect.value = localStorage.getItem('selectedUser') || 'Zach';
userSelect.addEventListener('change', () => {
  localStorage.setItem('selectedUser', userSelect.value);
});

/* ==========================
   RENDER FUNCTIONS
========================== */

// Render today's lifts
function renderToday() {
  const todayLiftsDiv = document.getElementById('todayLifts');
  todayLiftsDiv.innerHTML = '';
  const phaseKeys = Object.keys(program);
  const firstPhase = program[phaseKeys[0]];
  const firstDayName = Object.keys(firstPhase.days)[0];
  const lifts = firstPhase.days[firstDayName];

  lifts.forEach((lift, i) => {
    const liftId = `lift-${i}`;
    const checked = JSON.parse(localStorage.getItem(liftId)) || false;

    const row = document.createElement('div');
    row.className = 'lift-row';
    if (checked) row.classList.add('completed');

    row.innerHTML = `
      <input type="checkbox" id="${liftId}" ${checked ? 'checked' : ''} aria-label="${lift.name} complete">
      <span>${lift.name} ${lift.sets}</span>
      <input type="number" class="form-control form-control-sm" placeholder="lbs">
    `;

    todayLiftsDiv.appendChild(row);

    // Checkbox persistence
    const checkbox = row.querySelector('input[type="checkbox"]');
    checkbox.addEventListener('change', () => {
      row.classList.toggle('completed', checkbox.checked);
      localStorage.setItem(liftId, JSON.stringify(checkbox.checked));
    });
  });

  // StairClimber
  const stairCheckbox = document.getElementById('stairCheckbox');
  stairCheckbox.checked = JSON.parse(localStorage.getItem('stairCheckbox')) || false;
  stairCheckbox.addEventListener('change', () => {
    localStorage.setItem('stairCheckbox', JSON.stringify(stairCheckbox.checked));
    stairCheckbox.closest('.alert').classList.toggle('checked', stairCheckbox.checked);
  });
  if (stairCheckbox.checked) stairCheckbox.closest('.alert').classList.add('checked');
}

// Render phase tabs
function renderPhases() {
  const tabs = document.getElementById('phaseTabs');
  const content = document.getElementById('phaseContent');

  Object.entries(program).forEach(([phaseKey, phaseData], index) => {
    // Tab
    const li = document.createElement('li');
    li.className = 'nav-item';
    li.innerHTML = `<button class="nav-link ${index===0?'active':''}" data-bs-toggle="pill" data-bs-target="#${phaseKey}">${phaseData.name}</button>`;
    tabs.appendChild(li);

    // Content
    const div = document.createElement('div');
    div.className = `tab-pane fade ${index===0?'show active':''}`;
    div.id = phaseKey;

    Object.entries(phaseData.days).forEach(([dayName, lifts]) => {
      const card = document.createElement('div');
      card.className = 'card p-3';
      const liftList = lifts.map(l => `<span>${l.name} ${l.sets}</span>`).join('');
      card.innerHTML = `<p class="fw-semibold">${dayName}</p>${liftList}`;
      div.appendChild(card);
    });

    content.appendChild(div);
  });
}

// Initial render
renderToday();
renderPhases();
  <!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

<!-- Your custom app logic -->
<script src="app.js"></script>
</body>
</html>
