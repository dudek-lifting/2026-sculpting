<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>12-Week Strength & Conditioning</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Oswald:wght@400;600&display=swap" rel="stylesheet">

<style>
body {
  font-family: 'Oswald', sans-serif;
  background: linear-gradient(180deg, #0f2027, #203a43, #2c5364);
  color: #f5f5f5;
}
.program-header {
  text-align: center;
  padding: 2rem 1rem;
}
.program-header h1 {
  color: #f9c74f;
}
.workout-card {
  background: rgba(0,0,0,0.55);
  border-radius: 16px;
  padding: 1.5rem;
  margin-bottom: 1.5rem;
}
.workout-card h4 {
  color: #f9c74f;
}
.exercise {
  display: flex;
  align-items: center;
  gap: 0.6rem;
  margin-bottom: 0.5rem;
}
.exercise input[type="number"] {
  width: 80px;
}
.section-title {
  color: #90dbf4;
  margin-top: 1rem;
  font-size: 0.9rem;
  text-transform: uppercase;
}
.stair {
  background: rgba(249,199,79,0.15);
  padding: 0.75rem;
  border-radius: 8px;
  margin-top: 1rem;
}
.today-highlight {
  border: 2px solid #f9c74f;
  box-shadow: 0 0 20px rgba(249,199,79,0.4);
}
.progression {
  font-size: 0.85rem;
  color: #f9c74f;
  margin-left: 28px;
}
.mobile-only {
  display: none;
}
@media (max-width: 768px) {
  .mobile-only {
    display: block;
  }
}
</style>
</head>

<body>

<div class="program-header">
  <h1>12-Week Strength & Conditioning</h1>
  <p class="lead">Personalized. Tracked. Progressive.</p>

  <!-- PROFILE SELECTOR -->
  <div class="d-flex justify-content-center mt-3">
    <select id="athleteSelect" class="form-select w-auto">
      <option>Zach</option>
      <option>Dave</option>
      <option>Holly</option>
    </select>
  </div>
</div>

<div class="container">

<!-- TODAY VIEW -->
<div class="mobile-only mb-4">
  <h3 class="text-center text-warning mb-3">Today’s Workout</h3>
  <div id="todayWorkout"></div>
</div>

<!-- WEEK 1 -->
<div class="workout-card" data-day="1">
<h4>Day 1 – Lower Strength</h4>

<div class="section-title">Primary Lifts</div>

<div class="exercise">
  <input type="checkbox" data-key="squat_complete">
  Back Squat 4×6–8
  <input type="number" placeholder="lbs" data-key="squat_weight">
</div>
<div class="progression" data-prog="squat"></div>

<div class="exercise">
  <input type="checkbox" data-key="rdl_complete">
  Romanian Deadlift 4×8
  <input type="number" placeholder="lbs" data-key="rdl_weight">
</div>
<div class="progression" data-prog="rdl"></div>

<div class="stair">
  <strong>StairClimber:</strong> 30 min steady
  <input type="checkbox" data-key="stairs_done">
</div>
</div>

</div>

<footer class="text-center mt-5 opacity-75">
Built for Zach • Dave • Holly
</footer>

<script>
const athleteSelect = document.getElementById('athleteSelect');
let athlete = localStorage.getItem('currentAthlete') || 'Zach';
athleteSelect.value = athlete;

athleteSelect.addEventListener('change', () => {
  localStorage.setItem('currentAthlete', athleteSelect.value);
  location.reload();
});

athlete = athleteSelect.value;

// LOAD / SAVE INPUTS
document.querySelectorAll('input').forEach(input => {
  const baseKey = input.dataset.key;
  if (!baseKey) return;
  const key = athlete + '_' + baseKey;

  if (input.type === 'checkbox') {
    input.checked = localStorage.getItem(key) === 'true';
    input.addEventListener('change', () => {
      localStorage.setItem(key, input.checked);
      updateProgression();
    });
  }

  if (input.type === 'number') {
    input.value = localStorage.getItem(key) || '';
    input.addEventListener('input', () => {
      localStorage.setItem(key, input.value);
      updateProgression();
    });
  }
});

// PROGRESSION LOGIC
function updateProgression() {
  document.querySelectorAll('[data-prog]').forEach(el => {
    const lift = el.dataset.prog;
    const completed = localStorage.getItem(athlete + '_' + lift + '_complete') === 'true';
    const weight = localStorage.getItem(athlete + '_' + lift + '_weight');

    if (completed && weight) {
      const next = parseInt(weight) + 5;
      el.innerHTML = `Suggested next session: <strong>${next} lbs</strong>`;
    } else {
      el.innerHTML = '';
    }
  });
}
updateProgression();

// TODAY DETECTION
const today = new Date().getDay();
const todayCard = document.querySelector(`.workout-card[data-day="${today}"]`);
if (todayCard) {
  todayCard.classList.add('today-highlight');
  document.getElementById('todayWorkout').appendChild(todayCard.cloneNode(true));
}
</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
